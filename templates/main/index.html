{% extends 'base.html' %}
{% load markup %}
{% block js %}

{{block.super}}

<script type="text/javascript">
$(document).ready(function() 
    { 
        $(".tablesorter").tablesorter({widgets: ['zebra']}); 
    } 
); 
   

</script>

{% endblock %}

{% block content %}


<h2>Series [<a href="/add_series/">+</a>]</h2>
<table style="100%">
{% for series in series %}
<tr class="{% cycle 'odd' 'even' %}">
<th><a href="{{series.get_absolute_url}}">{{series.title}}</a></th>
</tr>
{% endfor %}
</table>



<h2>Recent Videos [<a href="/upload/">+</a>]</h2>
<table style="width: 100%" id="recent-videos" class="tablesorter"> 
<thead>
  <tr>
    <th>video</th>
    <th>series</th>
    <th>uploaded</th>
    <th>modified</th>
  </tr>
</thead>
<tbody>
{% for video in videos %}
<tr class="{% cycle 'odd' 'even' %}">
<td align="left"><a href="{{video.get_absolute_url}}">{{video.title}}</a></td>
<td><a href="{{video.series.get_absolute_url}}">{{video.series.title}}</a></td>
<td><i>{{video.created|date:"M d, Y H:i:s"}}</i></td>
<td><i>{{video.modified|date:"M d, Y H:i:s"}}</i></td>
</tr>
{% endfor %}
</tbody>
</table>

{% if operations %}
<h2>Recent Operations</h2>

<table style="width: 100%" class="tablesorter">

<thead>
<tr>
  <th>action</th>
  <th>owner</th>
  <th>video</th>
  <th>status</th>
  <th>last update</th>
</tr>
</thead>

<tbody>
{% for operation in operations %}
<tr class="{% cycle 'odd' 'even' %}">
  <td>{{operation.action}}</td>
  <td><a href="/user/{{operation.owner.username}}/">{{operation.owner.first_name}} {{operation.owner.last_name}}</a></td>
  <td><a href="{{operation.video.series.get_absolute_url}}">{{operation.video.series.title}}</a>/<a href="{{operation.video.get_absolute_url}}">{{operation.video.title}}</a></td>
  <td class="{{operation.status}}">{{operation.status}}</td>
  <td><nobr>{{operation.modified|date:"M d, Y H:i:s"}}</nobr></td>
</tr>
{% endfor %}
</tbody>
</table>
{% endif %}

{% endblock %}
