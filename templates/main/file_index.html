{% extends 'base.html' %}
{% load markup %}
{% block content %}


<h2>Files</h2>

<ul>
{% for facet in facets %}
<li>{{facet.field}}: {{facet.value}}</li>
{% endfor %}
</ul>

<div class="pagination">
    <span class="step-links">
        {% if files.has_previous %}
            <a href="?page={{ files.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ files.number }} of {{ files.paginator.num_pages }}.
        </span>

        {% if files.has_next %}
            <a href="?page={{ files.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>


<table style="width: 100%"> 
  <tr>
    <th>file</th>
    <th>uploaded</th><th>modified</th></tr>
{% for file in files.object_list %}
<tr class="{% cycle 'odd' 'even' %}">
<th align="left"><a href="{{file.video.series.get_absolute_url}}">{{file.video.series.title}}</a>
  / <a href="{{file.video.get_absolute_url}}">{{file.video.title}}</a>
  / <a href="{{file.get_absolute_url}}">{{file.label}}</a></th>
<td><i>{{file.created|date:"r"}}</i></td>
<td><i>{{file.modified|date:"r"}}</i></td>
</tr>
{% endfor %}
</table>


<div class="pagination">
    <span class="step-links">
        {% if files.has_previous %}
            <a href="?page={{ files.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ files.number }} of {{ files.paginator.num_pages }}.
        </span>

        {% if files.has_next %}
            <a href="?page={{ files.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>


{% endblock %}
